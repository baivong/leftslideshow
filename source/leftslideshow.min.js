/*! leftslideshow v1.3 | Copyright 2013 baivong | http://zzbaivong.blogspot.com/ */
(function(a){function q(e,c,b,d){a(".b_timebar",e).animate({width:"100%"},c,"linear",function(){a(".b_timebar",e).css("width",0);b?l("first","last",e,d):l("last","first",e,d);q(e,c,b,d)})}function l(e,c,b,d){var h=a(".b_slides li.selected",b),f;f=h.is("':"+e+"-child'")?a(".b_slides li:"+c,b):"last"==e?h.next():h.prev();"fade"==d?(a(".b_next, .b_prev",b).addClass("stop"),h.removeClass("selected").fadeOut(400),f.fadeIn(400,function(){f.addClass("selected");a(".b_next, .b_prev",b).removeClass("stop")}),k(b,f)):"slide"==d?(c="100%",d="-100%","last"==e&&(c="-100%",d="100%"),h.removeClass("selected").addClass("change").stop().animate({left:c},400,function(){h.css({left:0}).removeClass("change")}),f.addClass("change").css("left",d).stop().animate({left:0},400,function(){f.css({left:0}).removeClass("change");f.addClass("selected");k(b,f)})):console.error("Set effect, slide or fade")}function k(e,c){a(".b_paging .selected",e).removeClass("selected");a(".b_paging a",e).eq(c.index()).addClass("selected")}a.fn.leftslideshow=function(e){var c=a.extend({},{itemsSelector:".bv_img",appendTo:"",infoContent:"",effect:"slide",width:"640px",height:"480px",speed:3E3,slideRight:!1,autoStart:!1,autoPlay:!1,controlRight:!1,hideControl:!1,infoBtn:!1,noCopy:!1,autoResize:!0,closeBtn:!0,hideItems:!0,scrollTo:!0,open:function(){},start:function(){},pause:function(){},close:function(){}},e);return this.each(function(){var b=a(this),d=a(c.itemsSelector,b),e=c.speed;500>e&&(e=500);d.click(function(){if(1<d.length){c.open();if(a(".b_SideImg",b).length)a(".b_SideImg .selected",b).removeClass("selected"),a(".b_SideImg",b).is(":hidden")&&a(".b_SideImg",b).show();else{var f=c.effect,g="",k="",r="",s=b,t=a(c.appendTo,b);c.infoBtn&&(g='<div class="b_info"></div>');c.closeBtn&&(k='<div class="b_close"></div>');c.noCopy&&(r='<div class="b_copy"></div>');t.length&&(s=t);a('<div class="b_SideImg" style="width:'+c.width+'"><div class="b_content" style="height:'+c.height+'"><ul class="b_slides"></ul>'+g+k+'<div class="b_prev"></div><div class="b_next"></div>'+r+'</div><div class="b_control"><div class="b_play"></div><div class="b_pause"></div><div class="b_paging"></div><div class="b_timebar"></div></div></div>').appendTo(s);c.hideControl&&a(".b_control",b).height(0).hover(function(){a(this).height("auto")},function(){a(this).animate({height:0},100)});c.controlRight&&(a(".b_paging",b).css({"padding-right":"32px","padding-left":0,"text-align":"left"}),a(".b_play, .b_pause, .b_timebar",b).css({left:"auto",right:0}));d.each(function(e){var d=this.alt;d.length||(d="...");c.infoContent.length&&(d=c.infoContent);a(".b_slides",b).append('<li><img src="'+this.src+'" /><p>'+d+"</p></li>");a(".b_paging",b).append('<a href="#">'+(e+1)+"</a>")});if(c.autoResize){var m=a(".b_SideImg",b).width(),n=a(".b_content",b).height(),g=a(window).height(),p=a(".b_SideImg",b);b.width()-20<m&&p.width(b.width()-20);g<n+a(".b_control",b).height()+40&&a(".b_content",b).height(g-a(".b_control",b).height()-60);a(window).resize(function(){b.width()-20<m?p.width(b.width()-20):p.width(m);a(window).height()<n+a(".b_control",b).height()+40?a(".b_content",b).height(a(window).height()-a(".b_control",b).height()-60):a(".b_content",b).height(n)})}a(".b_next",b).click(function(){a(this).hasClass("stop")||l("last","first",b,f)});a(".b_prev",b).click(function(){a(this).hasClass("stop")||l("first","last",b,f)});a(".b_play",b).click(function(){c.start();a(".b_play",b).hide().next().show();q(b,e,c.slideRight,f)});a(".b_pause, .b_prev, .b_next, .b_paging a, .b_close",b).click(function(){a(".b_play").is(":hidden")&&(a(".b_play",b).show().next().hide(),a(".b_timebar",b).css("width",0).stop())});a(".b_pause",b).click(function(){c.pause()});a(".b_paging a",b).click(function(){a(".b_SideImg .selected",b).removeClass("selected");a(this).addClass("selected");a(".b_slides li",b).eq(a(this).index()).addClass("selected");return!1});a(".b_info",b).click(function(){a(".b_slides p",b).toggleClass("show_info")});a(".b_close",b).click(function(){a(".b_SideImg",b).hide();d.show();a("br",b).show();c.close()})}c.hideItems&&(d.hide(),a("br",b).hide());g=a(".b_slides img[src='"+this.src+"']",b).parent().index();a(".b_slides li:eq("+g+"), .b_paging a:eq("+g+")",b).addClass("selected");c.scrollTo&&a("body").scrollTop(a(".b_SideImg",b).offset().top);c.autoPlay&&a(".b_pause").is(":hidden")&&a(".b_play",b).click()}return!1});c.autoStart&&d.first().click()})}})(jQuery);
